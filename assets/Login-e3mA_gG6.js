import{u as S,m as E,r as s,j as e,L as R,n as A}from"./index-BPBIrITD.js";import{a as C}from"./authservice-C5w43tlf.js";const P=()=>{const p=S(),f=E(),[l,b]=s.useState(""),[o,w]=s.useState(""),[i,c]=s.useState(""),[r,d]=s.useState(!1),[y,u]=s.useState(!1),[n,j]=s.useState(""),[m,a]=s.useState(""),[x,g]=s.useState(!1),N=async t=>{if(t.preventDefault(),r)return;d(!0),c("");const h=await C(l,o);d(!1),h.success?p("/home"):c(h.error)},v=async()=>{if(!n){a("Please enter your email.");return}g(!0),a("");try{await A(f,n),a("Password reset email sent! Check your inbox.")}catch(t){a(t.message)}g(!1)};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 relative",children:[r&&e.jsx("div",{className:"fixed inset-0 bg-white bg-opacity-70 flex items-center justify-center z-50",children:e.jsx("div",{className:"w-10 h-10 border-4 border-t-green-500 border-gray-300 rounded-full animate-spin"})}),y&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-80",children:[e.jsx("h2",{className:"text-xl font-semibold text-[#0F8A69] text-center mb-3",children:"Reset Password"}),e.jsx("input",{type:"email",className:"w-full px-4 py-2 border rounded-lg mb-2",placeholder:"Enter your email",value:n,onChange:t=>j(t.target.value)}),m&&e.jsx("p",{className:"text-sm text-center text-red-500 mb-2",children:m}),e.jsx("button",{onClick:v,disabled:x,className:"w-full py-2 bg-[#0F8A69] text-white rounded-lg mt-2",children:x?"Sending...":"Send Reset Link"}),e.jsx("button",{onClick:()=>u(!1),className:"w-full py-2 mt-2 bg-gray-400 text-white rounded-lg",children:"Cancel"})]})}),e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md",children:[e.jsx("h1",{className:"text-2xl font-bold text-center mb-6 text-[#0F8A69]",children:"SIGN IN"}),e.jsxs("form",{onSubmit:N,className:"flex flex-col space-y-4 gap-[10px]",children:[e.jsx("p",{className:"text-sm text-center text-gray-500 mt-4",children:"Enter your credentials to continue"}),i&&e.jsx("p",{className:"text-red-500 text-sm font-medium text-center",children:i}),e.jsx("input",{type:"email",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400",placeholder:"Enter your email",value:l,onChange:t=>b(t.target.value),required:!0}),e.jsx("input",{type:"password",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400",placeholder:"Enter your password",value:o,onChange:t=>w(t.target.value),required:!0}),e.jsx("p",{className:"text-right text-sm text-[#0F8A69] hover:underline cursor-pointer",onClick:()=>u(!0),children:"Forgot Password?"}),e.jsx("button",{type:"submit",disabled:r,className:`w-full py-2 rounded-lg transition duration-200 ${r?"bg-gray-400 cursor-not-allowed":"bg-[#0F8A69] hover:bg-[#0D7A5B] text-white"}`,children:r?e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"w-5 h-5 border-4 border-t-green-500 border-gray-300 rounded-full animate-spin"})}):"Sign In"})]}),e.jsxs("p",{className:"text-sm text-center text-gray-500 mt-4",children:["Don't have an account?"," ",e.jsx(R,{to:"/signup",className:"text-[#0F8A69] hover:underline",children:"Sign Up"})]})]})]})};export{P as default};
