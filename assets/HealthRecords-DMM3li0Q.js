import{r as a,A as N,q as h,o as x,c as E,a as A,j as e,d as C}from"./index-B0XDuo0H.js";const t={GENERAL_CHECKUP:"general-checkup",VACCINATION:"vaccination",PRENATAL:"prenatal",CHILD_HEALTH:"child-health",NUTRITION:"nutrition",BP_CHECK:"bp-check",FAMILY_PLANNING:"family-planning",DENTAL:"dental",SENIOR_WELLNESS:"senior-wellness",WOUND_CARE:"wound-care"},j={[t.GENERAL_CHECKUP]:"General Check-up",[t.VACCINATION]:"Vaccination",[t.PRENATAL]:"Prenatal Check-up",[t.CHILD_HEALTH]:"Child Health Consultation",[t.NUTRITION]:"Nutrition Assessment",[t.BP_CHECK]:"Blood Pressure Check",[t.FAMILY_PLANNING]:"Family Planning",[t.DENTAL]:"Dental Check-up",[t.SENIOR_WELLNESS]:"Senior Citizen Wellness",[t.WOUND_CARE]:"Wound Care / Dressing"};function p(){const{currentUser:r}=a.useContext(N),[o,c]=a.useState([]);return a.useEffect(()=>{if(!r?.uid)return;const s=h(E(C,"appointments"),x("createdAt","desc")),i=A(s,d=>{const l=d.docs.map(n=>{const u=n.data(),{id:f,...m}=u;return{id:n.id,...m}}).filter(n=>n.requestedBy===r.uid);c(l)});return()=>i()},[r]),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-[#0F8A69] mb-6",children:"Appointment Records"}),o.length===0?e.jsx("p",{className:"text-gray-500",children:"No appointment records found."}):e.jsx("div",{className:"space-y-4",children:o.map(s=>e.jsxs("div",{className:"bg-white shadow-md rounded-xl p-5 border border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-[#0F8A69] mb-2",children:j[s.serviceType]||s.serviceType}),e.jsxs("div",{className:"text-gray-700 space-y-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Preferred Date:"})," ",new Date(s.preferredDateTime).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Location:"})," ",s.location||"N/A"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Purpose:"})," ",s.purpose]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Status:"})," ",e.jsx("span",{className:`font-bold ${s.status==="rejected"?"text-red-600":s.status==="completed"?"text-green-600":"text-yellow-600"}`,children:s.status})]})]}),(s.status==="rejected"||s.status==="failed")&&s.rejectionReason&&e.jsxs("div",{className:"mt-3 bg-red-50 border border-red-300 text-red-700 p-3 rounded-xl",children:[e.jsx("p",{className:"font-semibold",children:s.status==="rejected"?"Reason for Rejection:":"Reason for Failure:"}),e.jsx("p",{children:s.rejectionReason})]})]},s.id))})]})}export{p as default};
