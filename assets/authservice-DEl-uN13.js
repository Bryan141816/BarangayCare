import{m as o,n as i,p as u,t as n,s as l,f as d,d as f,v as m}from"./index-Da8wnO7y.js";const w=async r=>{try{const{email:e,password:s,...a}=r,c=await u(i,e,s),t=c.user.uid;return await n(c.user),await l(d(f,"users",t),{uid:t,email:e,...a,role:"user",createdAt:new Date}),{success:!0,uid:t}}catch(e){return console.error("Error registering user:",e),{success:!1,error:e.message}}},h=async(r,e)=>{try{const a=(await o(i,r,e)).user;return a.emailVerified?{success:!0,user:a,emailVerified:!0}:{success:!1,error:"Email not verified. Please check your inbox.",emailVerified:!1}}catch(s){return{success:!1,error:s.message||"Login failed"}}},y=async()=>{try{return await m(i),{success:!0}}catch(r){return{success:!1,error:r.message}}};export{h as a,y as l,w as r};
