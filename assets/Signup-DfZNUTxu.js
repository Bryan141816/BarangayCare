import{u as B,r as s,j as e,L as G}from"./index-BPBIrITD.js";import{r as z}from"./authservice-C5w43tlf.js";const Z=()=>{const A=B(),[f,F]=s.useState(""),[m,C]=s.useState(""),[x,P]=s.useState(""),[p,h]=s.useState(""),[w,E]=s.useState(""),[v,q]=s.useState(""),[N,D]=s.useState(""),[r,U]=s.useState(""),[o,L]=s.useState(""),[n,l]=s.useState(""),[i,b]=s.useState(""),[j,d]=s.useState(""),[u,c]=s.useState(!1);s.useEffect(()=>{if(!r){l("");return}const t=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{8,}$/,a=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{6,}$/;t.test(r)?l("strong"):a.test(r)?l("medium"):l("weak")},[r]),s.useEffect(()=>{if(!o){b("");return}b(r===o?"":"Passwords do not match")},[o,r]);const M=async t=>{if(t.preventDefault(),u)return;if(d(""),c(!0),i){d("Passwords do not match"),c(!1);return}const a=await z({firstName:f,lastName:m,address:x,age:Number(p),gender:w,birthday:v,email:N,password:r,role:"user"});c(!1),a.success?A("/login"):d(a.error||"Something went wrong")},$=()=>n==="weak"?"bg-red-500 w-1/3":n==="medium"?"bg-yellow-500 w-2/3":n==="strong"?"bg-green-500 w-full":"w-0",k=t=>{const a=new Date,g=new Date(t);let y=a.getFullYear()-g.getFullYear();const S=a.getMonth()-g.getMonth();return(S<0||S===0&&a.getDate()<g.getDate())&&y--,y};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md",children:[e.jsx("h1",{className:"text-2xl font-bold text-center mb-4 text-[#0F8A69]",children:"SIGN UP"}),e.jsx("p",{className:"text-sm text-center text-gray-500 mb-6",children:"Fill in your details to create an account"}),e.jsxs("form",{onSubmit:M,className:"flex flex-col gap-[10px]",children:[j&&e.jsx("p",{className:"text-red-500 text-sm font-medium text-center",children:j}),e.jsx("input",{type:"text",placeholder:"First Name",value:f,onChange:t=>F(t.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0F8A69]",required:!0}),e.jsx("input",{type:"text",placeholder:"Last Name",value:m,onChange:t=>C(t.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0F8A69]",required:!0}),e.jsx("input",{type:"text",placeholder:"Address",value:x,onChange:t=>P(t.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0F8A69]",required:!0}),e.jsx("input",{type:"date",value:v,onChange:t=>{q(t.target.value),h(k(t.target.value).toString())},className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0F8A69]",required:!0}),e.jsx("input",{type:"number",placeholder:"Age",value:p,onChange:t=>h(t.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0F8A69]",disabled:!0}),e.jsxs("select",{value:w,onChange:t=>E(t.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0F8A69]",required:!0,children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]}),e.jsx("input",{type:"email",placeholder:"Email",value:N,onChange:t=>D(t.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0F8A69]",required:!0}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"password",placeholder:"Password",value:r,onChange:t=>U(t.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0F8A69]",required:!0}),n&&e.jsxs("div",{className:"flex items-center mt-1 gap-2",children:[e.jsx("span",{className:`font-bold text-sm ${n==="weak"?"text-red-500":n==="medium"?"text-yellow-500":"text-green-500"}`,children:n.toUpperCase()}),e.jsx("div",{className:"flex-1 h-1 bg-gray-200 rounded",children:e.jsx("div",{className:`${$()} h-1 rounded`})})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("input",{type:"password",placeholder:"Confirm Password",value:o,onChange:t=>L(t.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0F8A69]",required:!0}),i&&e.jsx("span",{className:"font-bold text-sm text-red-500",children:i})]}),e.jsx("button",{type:"submit",disabled:u,className:`w-full py-2 rounded-lg transition duration-200 
    ${u?"bg-gray-400 cursor-not-allowed":"bg-[#0F8A69] hover:bg-[#0D7A5B] text-white"}
  `,children:u?e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"w-5 h-5 border-4 border-t-green-500 border-gray-300 rounded-full animate-spin"})}):"Sign Up"})]}),e.jsxs("p",{className:"text-sm text-center text-gray-500 mt-4",children:["Already have an account?"," ",e.jsx(G,{to:"/login",className:"text-[#0F8A69] hover:underline",children:"Sign In"})]})]})})};export{Z as default};
